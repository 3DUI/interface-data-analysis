<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Plane Tasks</title>
</head>
<body>

    <h1>Room Task</h1>

    <table id="results" border="1" style="width:100%">
        <tr>
            <th>Number</th>
            <th>Interface</th>
            <th>Lamp-Table Dist</th>
            <th>Lamp-Table Angle</th>
            <th>Table-Floor Dist</th>
            <th>Table-Floor Angle</th>
            <th>Time</th>
        </tr>
    </table>
    
    <script src="libs/jquery.min.js"></script>
    <script src="libs/d3.min.js"></script>
    <script src="libs/three2.min.js"></script>
    <script src="participant.js"></script>
    <script src="task.js"></script>
    <script src="analysis.js"></script>

<script>

    $(document).ready(function(){
        $.getJSON("rawdata/participants.json", function(data){
            var participants = [];
            for(var i = 0; i < data.length; i++){
                var curr = new Participant(data[i]);
                participants.push(curr);
            }

            printTasks(participants);
        });
    });

    var printTasks = function(participants){

        var table = $("#results");

        for(var i = 0; i < participants.length; i++){

            for(var j = 0; j < participants[i].standardTasks.roomScene.length; j++){
                var current = participants[i].standardTasks.roomScene[j];

                var row =  $("<tr></tr>");
                var usr = $("<td></td>").text(participants[i].num);
                var interf = $("<td></td>").text("Standard");
                var dist0 = $("<td></td>").text(current.distance[0]);
                var dist1 = $("<td></td>").text(current.distance[1]);
                var angle0 = $("<td></td>").text(current.angle[0]);
                var angle1 = $("<td></td>").text(current.angle[1]);
                var time = $("<td></td>").text(current.time);

                usr.appendTo(row);
                interf.appendTo(row);
                dist0.appendTo(row);
                angle0.appendTo(row);
                dist1.appendTo(row);
                angle1.appendTo(row);
                time.appendTo(row);
                row.appendTo(table);
            }

            for(j = 0; j < participants[i].shadowTasks.roomScene.length; j++){
                var current = participants[i].shadowTasks.roomScene[j];

                var row =  $("<tr></tr>");
                var usr = $("<td></td>").text(participants[i].num);
                var interf = $("<td></td>").text("Shadowbox");
                var dist0 = $("<td></td>").text(current.distance[0]);
                var dist1 = $("<td></td>").text(current.distance[1]);
                var angle0 = $("<td></td>").text(current.angle[0]);
                var angle1 = $("<td></td>").text(current.angle[1]);
                var time = $("<td></td>").text(current.time);

                usr.appendTo(row);
                interf.appendTo(row);
                dist0.appendTo(row);
                angle0.appendTo(row);
                dist1.appendTo(row);
                angle1.appendTo(row);
                time.appendTo(row);
                row.appendTo(table);
            }
        }
    };

</script>

</body>
</html>